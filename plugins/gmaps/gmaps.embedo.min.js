/**
 * @file gmaps.embedo.js
 *
 * Embedo plugin to embed Google Maps.
 *
 * @author Shobhit Sharma <hi@shobh.it>
 * @license MIT
 */
"use strict";!function(e,o){if("function"==typeof define&&define.amd)define(o);else if("object"==typeof module&&module.exports)module.exports=o();else if(e){if(!e.Embedo||!window.Embedo)throw Error("Embedo script is either not imported or not available.");e.Embedo.GMaps=window.Embedo.GMaps=o()(e.Embedo||window.Embedo)}}(this,function(){return function(h){h.defaults.SOURCES.googlemaps={GLOBAL:"google",SDK:"https://maps.googleapis.com/maps/api/js",oEmbed:null,REGEX:/(http|https)?:\/\/(www\.|maps\.)?google(\.[a-z]+){1,2}\/maps\/.*/i,PARAMS:{}},Object.defineProperty(h.prototype,"googlemaps",{value:function(n,d,e,a,l){var o,p=h.utils.dimensions(d,a.width,a.height),r=(o=e.match(/@(-?\d+\.\d+),(-?\d+\.\d+),(\d+\.?\d?)+z/))&&o.length&&o[1]&&o[2]?{lat:parseFloat(o[1],0),lng:parseFloat(o[2],0)}:null;if(!r)return l(new Error("unable_to_find_cordinates"));var t,i,s,g,m=h.utils.generateEmbed(n,"googlemaps");d.appendChild(m),t=d,i=m,s={url:e,width:p.width,height:p.height,centerize:a.centerize},g=function(e){if(e)return h.log("error","googlemaps",e),l(e);var o=new window.google.maps.LatLng(r.lat,r.lng),t=new window.google.maps.Map(m,{zoom:a.zoom||12,center:o,mapTypeId:a.MapTypeId||window.google.maps.MapTypeId.ROADMAP}),i=new window.google.maps.Marker({map:t,draggable:!0,animation:window.google.maps.Animation.DROP,position:o});l(null,{id:n,el:d,width:p.width,height:p.height,marker:i})},h.utils.sdkReady("googlemaps",function(e){if(e)return g(e);!1!==s.centerize&&h.utils.centerize(t,i,s),i.style.width=s.width?s.width+"px":h.utils.compute(t,"width"),i.style.height=s.height?s.height+"px":h.utils.compute(t,"height"),g(null,{})})}})}});