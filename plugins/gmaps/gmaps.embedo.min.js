/**
 * @file gmaps.embedo.js
 *
 * Embedo plugin to embed Google Maps.
 *
 * @author Shobhit Sharma <hi@shobh.it>
 * @license MIT
 */
"use strict";!function(m){if(!m)throw Error("Embedo script is either not imported or not available.");m.defaults.SOURCES.googlemaps={GLOBAL:"google",SDK:"https://maps.googleapis.com/maps/api/js",oEmbed:null,REGEX:/(http|https)?:\/\/(www\.|maps\.)?google(\.[a-z]+){1,2}\/maps\/.*/i,PARAMS:{}},Object.defineProperty(m.prototype,"googlemaps",{value:function(a,n,e,l,g){var t,r=m.utils.dimensions(n,l.width,l.height),p=(t=e.match(/@(-?\d+\.\d+),(-?\d+\.\d+),(\d+\.?\d?)+z/))&&t.length&&t[1]&&t[2]?{lat:parseFloat(t[1],0),lng:parseFloat(t[2],0)}:null;if(!p)return g(new Error("unable_to_find_cordinates"));var o,i,d,s,h=m.utils.generateEmbed(a,"googlemaps");n.appendChild(h),o=n,i=h,d={url:e,width:r.width,height:r.height,centerize:l.centerize},s=function(e){if(e)return m.log("error","googlemaps",e),g(e);var t=new window.google.maps.LatLng(p.lat,p.lng),o=new window.google.maps.Map(h,{zoom:l.zoom||12,center:t,mapTypeId:l.MapTypeId||window.google.maps.MapTypeId.ROADMAP}),i=new window.google.maps.Marker({map:o,draggable:!0,animation:window.google.maps.Animation.DROP,position:t});g(null,{id:a,el:n,width:r.width,height:r.height,marker:i})},m.utils.sdkReady("googlemaps",function(e){if(e)return s(e);!1!==d.centerize&&m.utils.centerize(o,i,d),i.style.width=d.width?d.width+"px":m.utils.compute(o,"width"),i.style.height=d.height?d.height+"px":m.utils.compute(o,"height"),s(null,{})})}})}(window.Embedo);