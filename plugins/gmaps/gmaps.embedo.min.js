/**
 * @file gmaps.embedo.js
 *
 * Embedo plugin to embed Google Maps.
 *
 * @author Shobhit Sharma <hi@shobh.it>
 * @license MIT
 */
"use strict";!function(e,o){if("function"==typeof define&&define.amd)define(o);else if("object"==typeof module&&module.exports)module.exports=o();else if(e){if(!e.Embedo||!window.Embedo)throw Error("Embedo script is either not imported or not available.");e.Embedo.GMaps=window.Embedo.GMaps=o()(e.Embedo||window.Embedo)}}(this,function(){return function(h){if(!h)throw Error("Embedo instance as argument is missing.");h.defaults.SOURCES.googlemaps={GLOBAL:"google",SDK:"https://maps.googleapis.com/maps/api/js",oEmbed:null,REGEX:/(http|https)?:\/\/(www\.|maps\.)?google(\.[a-z]+){1,2}\/maps\/.*/i,PARAMS:{}},Object.defineProperty(h.prototype,"googlemaps",{value:function(n,a,e,d,l){var o,r=h.utils.dimensions(a,d.width,d.height),s=(o=e.match(/@(-?\d+\.\d+),(-?\d+\.\d+),(\d+\.?\d?)+z/))&&o.length&&o[1]&&o[2]?{lat:parseFloat(o[1],0),lng:parseFloat(o[2],0)}:null;if(!s)return l(new Error("unable_to_find_cordinates"));var t,i,p,g,m=h.utils.generateEmbed(n,"googlemaps");a.appendChild(m),t=a,i=m,p={url:e,width:r.width,height:r.height,centerize:d.centerize},g=function(e){if(e)return h.log("error","googlemaps",e),l(e);var o=new window.google.maps.LatLng(s.lat,s.lng),t=new window.google.maps.Map(m,{zoom:d.zoom||12,center:o,mapTypeId:d.MapTypeId||window.google.maps.MapTypeId.ROADMAP}),i=new window.google.maps.Marker({map:t,draggable:!0,animation:window.google.maps.Animation.DROP,position:o});l(null,{id:n,el:a,width:r.width,height:r.height,marker:i})},h.utils.sdkReady("googlemaps",function(e){if(e)return g(e);!1!==p.centerize&&h.utils.centerize(t,i,p),i.style.width=p.width?p.width+"px":h.utils.compute(t,"width"),i.style.height=p.height?p.height+"px":h.utils.compute(t,"height"),g(null,{})})},writable:!1,enumerable:!0,configurable:!0})}});