/**
 * @file flickr.embedo.js
 *
 * Embedo plugin to embed flickr.
 *
 * @author Shobhit Sharma <hi@shobh.it>
 * @license MIT
 */
"use strict";!function(e,t){if("function"==typeof define&&define.amd)define(t);else if("object"==typeof module&&module.exports)module.exports=t();else if(e){if(!e.Embedo||!window.Embedo)throw Error("Embedo script is either not imported or not available.");e.Embedo.Flickr=window.Embedo.Flickr=t()(e.Embedo||window.Embedo)}}(this,function(){return function(a){if(!a)throw Error("Embedo instance as argument is missing.");a.defaults.SOURCES.flickr={GLOBAL:null,SDK:"https://embedr.flickr.com/assets/embedr-loader.js",oEmbed:"//www.flickr.com/services/oembed",REGEX:/(https?:\/\/(ww.)?)?flickr(\.[a-z]+).*/i,PARAMS:{}},Object.defineProperty(a.prototype,"flickr",{value:function(o,d,e,l,n){var t=a.defaults.SOURCES.flickr.oEmbed,i=a.utils.merge({url:encodeURI(e),format:"json"},l,a.defaults.RESTRICTED);("width"in l||"maxwidth"in l)&&(i.maxwidth=l.maxwidth||l.width),("height"in l||"maxheight"in l)&&(i.maxheight=l.maxheight||l.height),t+="?"+a.utils.querystring(i),a.utils.fetch(t,{callback:"jsoncallback"},function(e,t){if(e)return a.log("error","flickr",e),n(e);var i=a.utils.generateEmbed(o,"flickr",t.html),r=i.querySelector("[data-flickr-embed]");r&&(r.setAttribute("data-header",l.header||!0),r.setAttribute("data-footer",l.footer||!0),r.setAttribute("data-context",l.context||!0)),d.appendChild(i),n(null,a.utils.extend({},t,{id:o,el:d,width:l.width,height:l.height}))})},writable:!1,enumerable:!0,configurable:!0})}});